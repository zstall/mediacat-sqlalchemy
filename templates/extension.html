{% extends "base.html" %}


{% block body %}

<!DOCTYPE html>
  <html>
  <head>
  <title>W3.CSS Template</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js" integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
  html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
  ul {
    list-style-type: none;
  }
  </style>

  </head>
  <body class="w3-light-grey">
      <!-- Sidebar/menu -->
  <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <div class="w3-container w3-row">
      <div class="w3-col s4">
        <img src="/static/images/{{username}}.jpg" class="w3-circle w3-margin-right" style="width:46px">
      </div>
      <div class="w3-col s8 w3-bar">
        <span>Welcome, <strong> {{ username }}</strong></span><br>
        <a href="{{url_for('home')}}" class="w3-bar-item w3-button"><i class="fa fa-database"></i></a>
        <a href="{{url_for('file_search')}}" class="w3-bar-item w3-button"><i class="fa fa-search"></i></a>
        <a href="#" class="w3-bar-item w3-button"><i class="fa fa-cog"></i></a>
      </div>
    </div>
    <hr>
    <div class="w3-container">
      <h5>Dashboard</h5>
    </div>
    <div class="w3-bar-block">
      <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>Â  Close Menu</a>
      <a href="{{url_for('home')}}" class="w3-bar-item w3-button w3-padding"><i class="fa fa-database fa-fw"></i>Overview</a>
      <a href="{{url_for('file_search')}}" class="w3-bar-item w3-button w3-padding "><i class="fa fa fa-search fa-fw"></i>File Search</a>
      <a href="{{url_for('extension')}}" class="w3-bar-item w3-button w3-padding w3-blue"><i class="fa fa-file-code-o fa-fw"></i>Extensions</a>
      <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-file-movie-o fa-fw"></i>video files</a>
      <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-file-zip-o fa-fw"></i>zip files</a>
      <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-file-code-o fa-fw"></i>other files</a>
      <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-folder fa-fw"></i>directories</a>
    </div>
  </nav>
    
  <!-- Overlay effect when opening sidebar on small screens -->
  <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
  
    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:300px;margin-top:43px;">
            
            <div class="container">
              <div class="row justify-content-center">
                <div class="col-md-10">
                  <div class="w3-container">
                    <h2 class="card-title text-center">File Extension Totals</h2>
                    <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
                    {% if top_25_ext %}
                      {% for ext in top_25_ext %}
                        <tr>
                          <td>{{ ext[0] }}</td>
                          <td>{{ ext[1] }}</td>
                        </tr>
                      {% endfor %}
                    {% endif %}
                    </table><br>  
                  </div>
                </div>
              </div>
            </div>
            <div class="container">
              <div class="row justify-content-center">
                <div class="col-md-10">
                  <div class="w3-container">
                    <h2 class="card-title text-center">File Extension Totals</h2>
                    <table class="w3-table w3-striped w3-bordered w3-border w3-hoverable w3-white">
                    {% if top_25_ext_sums %}
                      {% for sum in top_25_ext_sums %}
                        <tr>
                          <td>{{ sum[0] }}</td>
                          <td>{{ sum[1]|filesizeformat(true) }}</td>
                        </tr>
                      {% endfor %}
                    {% endif %}
                    </table><br>  
                  </div>
                </div>
              </div>
            </div>
            <script>
              function setActionForm(action){
                  let form = document.getElementById("search-form")
                  if (action === 'searchfile'){
                      form.action = "{{url_for('search')}}"
                      form.method = "post";
                      form.submit();
                  }
              }
          </script>
    </div>    
  </div>
  </body>
</html>

{% endblock %}